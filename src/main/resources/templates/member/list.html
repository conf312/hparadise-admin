<!DOCTYPE html>
<html
  lang="en"
  class="light-style layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="/assets/"
  data-template="vertical-menu-template-free"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/default_layout}">
  <th:block layout:fragment="content">
    <div class="container-xxl flex-grow-1 container-p-y">
      <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Tables /</span> 관리자 목록</h4>
      <div class="card">
        <div class="table-responsive text-nowrap">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>번호</th>
              <th>이름</th>
              <th>이메일</th>
              <th>상태</th>
              <th>로그인 일시</th>
              <th>등록 일시</th>
            </tr>
            </thead>
            <tbody class="table-border-bottom-0">
            <tr th:each="list,status: ${resultMap.list}">
              <td th:text="${(resultMap.totalCnt - status.index) - (resultMap.pageSize * (resultMap.page / resultMap.pageSize))}">1</td>
              <td th:text="${list.name}"></td>
              <td>
                <a th:href="@{/member/detail(id=${list.id})}"><strong th:text="${list.email}"></strong></a>
              </td>
              <td th:if="${list.useYn eq 'Y'}"><span class="badge bg-label-primary me-1">활성</span></td>
              <td th:unless="${list.useYn eq 'Y'}"><span class="badge bg-label-danger me-1">중지</span></td>
              <td th:text="${list.loginDate}"></td>
              <td th:text="${list.createDate}"></td>
            </tr>
            </tbody>
          </table>
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="demo-inline-spacing">
                  <nav aria-label="Page navigation">
                    <ul class="pagination">
                      <li class="page-item first">
                        <a class="page-link" th:href="@{/member/list(page=0, pageSize=${resultMap.pageSize})}">
                          <i class="tf-icon bx bx-chevrons-left"></i>
                        </a>
                      </li>
                      <li class="page-item active"
                          th:each="index : ${#numbers.sequence(resultMap.startPage, resultMap.endPage)}"
                          th:classappend="${index == resultMap.currentPage} ? active">
                        <a class="page-link" th:href="@{/member/list(page=${resultMap.pageSize * (index - 1)}, pageSize=${resultMap.pageSize})}">1</a>
                      </li>
                      <li class="page-item last" th:if="${resultMap.totalCnt > resultMap.pageSize}">
                        <a class="page-link" th:href="@{/member/list(page=${resultMap.totalCnt - resultMap.pageSize}, pageSize=${resultMap.pageSize})}">
                          <i class="tf-icon bx bx-chevrons-right"></i>
                        </a>
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </th:block>
</html>
